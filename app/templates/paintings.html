{% extends 'base.html' %}

{% block title %} | {% if category %}{{ category.name }}{% else %}Paintings{% endif %}{% endblock %}

{% block description %}
View Carly A. Brock's {% if category %}{{category.name}}{% endif %} paintings.
{% endblock %}

{% block keywords %}Carly Brock paintings, artworks{% if category %}, {{category.name}}{% endif %}{% endblock %}

{% block critical_css %}
<style>html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body{margin:0}a{background-color:transparent}h1{margin:.67em 0;font-size:2em}small{font-size:80%}img{border:0}pre{overflow:auto}pre{font-family:monospace,monospace;font-size:1em}@font-face{font-family:'Glyphicons Halflings';src:url(../fonts/glyphicons-halflings-regular.eot);src:url(../fonts/glyphicons-halflings-regular.eot?#iefix) format('embedded-opentype'),url(../fonts/glyphicons-halflings-regular.woff2) format('woff2'),url(../fonts/glyphicons-halflings-regular.woff) format('woff'),url(../fonts/glyphicons-halflings-regular.ttf) format('truetype'),url(../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-menu-hamburger:before{content:"\e236"}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}a{color:#337ab7;text-decoration:none}img{vertical-align:middle}.img-responsive,.thumbnail>img{display:block;max-width:100%;height:auto}h1,h2,h5{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}h1,h2{margin-top:20px;margin-bottom:10px}h5{margin-top:10px;margin-bottom:10px}h1{font-size:36px}h2{font-size:30px}h5{font-size:14px}small{font-size:85%}.text-center{text-align:center}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ul{margin-top:0;margin-bottom:10px}pre{font-family:Menlo,Monaco,Consolas,"Courier New",monospace}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.row{margin-right:-15px;margin-left:-15px}.col-lg-3,.col-sm-3,.col-xs-6{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-6{float:left}.col-xs-6{width:50%}@media (min-width:768px){.col-sm-3{float:left}.col-sm-3{width:25%}}@media (min-width:1200px){.col-lg-3{float:left}.col-lg-3{width:25%}}.dropdown{position:relative}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.nav{padding-left:0;margin-bottom:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron h1{color:inherit}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.jumbotron h1{font-size:63px}}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px}.thumbnail>img{margin-right:auto;margin-left:auto}.thumbnail .caption{padding:9px;color:#333}.container:after,.container:before,.nav:after,.nav:before,.row:after,.row:before{display:table;content:" "}.container:after,.nav:after,.row:after{clear:both}@-ms-viewport{width:device-width}@font-face{font-family:"Museo-Slab";src:url(//static.parastorage.com/services/third-party/fonts/user-site-fonts/fonts/01ab709f-22cf-4831-b24a-8cf4eb852687.eot?#iefix) format("eot"),url(//static.parastorage.com/services/third-party/fonts/user-site-fonts/fonts/cacc0862-f146-4746-92b1-60e6114a66c4.woff) format("woff"),url(//static.parastorage.com/services/third-party/fonts/user-site-fonts/fonts/54006f54-b61e-4103-abf8-b1d0294a2a9c.ttf) format("truetype"),url(//static.parastorage.com/services/third-party/fonts/user-site-fonts/fonts/e5841f2e-b306-4583-bfc3-a0e06742fedd.svg#e5841f2e-b306-4583-bfc3-a0e06742fedd) format("svg")}@font-face{font-family:"Caudex";font-style:normal;font-weight:400;src:local("Caudex"),url("http://fonts.gstatic.com/s/caudex/v6/tEyJJhH5jnB2yxr-0TBTSg.woff2") format("woff2");unicode-range:U+0-FF,U+131,U+152-153,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}@font-face{font-family:"Raleway";font-style:normal;font-weight:400;src:local("Raleway"),local("Raleway-Regular"),url("http://fonts.gstatic.com/s/raleway/v11/0dTEPzkLWceF7z0koJaX1A.woff2") format("woff2");unicode-range:U+0-FF,U+131,U+152-153,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}#title-box{background-color:transparent!important}#title{color:black;font-family:Museo-Slab;text-decoration:none}.nav li{display:inline-block}.nav a{color:#595959;font-family:Caudex}.dropdown-menu{margin-top:0;text-align:center;border-radius:0;left:50%;transform:translateX(-50%)}.dropdown-item{display:block}.page-header{border-bottom:.1em dotted black}.page-header h2{font-family:Museo-Slab}.text-container{background-color:#DCFCDF;padding-top:1em;padding-bottom:1em}#navicon{font-size:1.5em;display:none}.dropdown-btn{display:none;position:absolute;right:0;top:50%;transform:translateY(-50%);height:100%;width:20%}.downarrow{font-size:.65em;position:absolute;right:50%;top:25%;transform:rotate(45deg);border-style:solid;border-width:1em .35em .35em 1em;border-color:transparent #595959 #595959 transparent}.thumbnail{max-width:165px;height:165px;position:relative;left:50%;transform:translateX(-50%);border:0;padding:0;border-radius:0;outline:0}.thumbnail-large{max-width:262.5px;height:262.5px}.thumbnail img{object-fit:cover;width:100%;height:100%}.thumbnail .caption{font-family:Raleway;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;z-index:1;text-align:center;opacity:0}.thumbnail .caption-title,.thumbnail .caption-detail{color:black}.caption-title{font-size:1.2em;margin-bottom:1em}pre{font-family:Calibri;white-space:pre-wrap;word-break:normal;word-wrap:normal;border-radius:0;border:0}</style>
{% endblock %}

{% block body %}
<div class="page-header">
    <h2 class="text-center">
    {% if category %}
        {% if category.header %}
            {{ category.header }}<br />
        {% endif %}
        {{ category.name }}
    {% else %}
        Paintings
    {% endif %}
    </h2>
    {% if current_user.is_authenticated %}
    <div class="admin-page-buttons">
        {% if category %}
        <div class="glyphicon glyphicon-pencil" title="Edit Category Info" data-toggle="modal" data-target="#admin-modal"></div>
        {% endif %}
        <div class="glyphicon glyphicon-plus" title="Upload Painting" data-toggle="modal" data-target="#admin-modal"></div>
    </div>
    {% endif %}
</div>
<div class="row" id="image-grid">
{% for p in paintings %}
    <div class="{% if category.thumbsize_large %}col-lg-3 col-sm-3 col-xs-6{% else %}col-lg-2 col-sm-3 col-xs-4{% endif %} image-item{% if current_user.is_authenticated %} admin{% endif %}">
        <a class="thumbnail hover{% if category.thumbsize_large %} thumbnail-large{% endif %}"
        href="{{ url_for('get_media', filename=p.filename, file_type='image') }}"
        data-toggle="lightbox" data-gallery="{{ header }}-gallery"
        data-title="{{ p.name }}" data-id="{{ p.filename }}"
        data-footer="{% if p.medium %}{{ p.medium }}{% endif %}
                    {% if p.dimensions %}<br />{{ p.dimensions }}{% endif %}
                    {% if p.year %}<br />{{ p.year }}{% endif %}">
            <img class="img-responsive" src="{{ url_for('get_media', filename=p.thumbname, file_type='thumbnail') }}" alt="{{ p.name }}" />
            <div class="caption">
                <h5 class="caption-title">{{ p.name }}</h5>
                <small class="caption-detail">
                    <div class="detail-item" data-type="medium">{% if p.medium %}{{ p.medium }}{% endif %}</div>
                    <div class="detail-item" data-type="dimensions">{% if p.dimensions %}{{ p.dimensions }}{% endif %}</div>
                    <div class="detail-item" data-type="year">{% if p.year %}{{ p.year }}{% endif %}</div>
                </small>
            </div>
        </a>
        {% if current_user.is_authenticated %}
        <div class="image-admin admin-hover">
            <div class="glyphicon glyphicon-move" title="Move"></div>
            <div class="glyphicon glyphicon-pencil" title="Edit"></div>
            <div class="glyphicon glyphicon-floppy-disk hidden" title="Save"></div>
            <div class="glyphicon glyphicon-trash" title="Delete"></div>
        </div>
        {% endif %}
    </div>
{% endfor %}
</div>
{% if category.description %}
<div class="row">
    <pre class="text-container">
{{ category.description }}<!-- Can't have any tabs in this line -->
    </pre>
</div>
{% endif %}
{% endblock %}

{% block stylesheets %}
<!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/ekko-lightbox.css') }}" /> -->
<!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/paintings.css') }}" /> -->
{% assets filter="cssmin", output="gen/paintings.min.css", "css/base.css", "css/paintings.css", "lib/ekko-lightbox.css" %}
<link rel="stylesheet" href="{{ ASSET_URL }}" />
{% endassets %}
{% if current_user.is_authenticated %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/paintings.css') }}" />
{% endif %}
{% endblock %}

{% block scripts %}
<!-- <script src="{{ url_for('static', filename='js/ekko-lightbox.js') }}"></script>
<script src="{{ url_for('static', filename='js/hammer.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/paintings.js') }}"></script> -->
{% assets filter="jsmin", output="gen/paintings.min.js", "lib/ekko-lightbox.js", "lib/hammer.min.js", "js/paintings.js" %}
<script src="{{ ASSET_URL }}"></script>
{% endassets %}
{% if current_user.is_authenticated %}
<script>
var currentCategory = {% if category %}'{{category.name}}'{% else %}''{% endif %}
var categoryList = [{% for cat in categories %}'{{ cat.name }}',{% endfor %}]
var updatePaintingOrderURL = "{% if category %}{{ url_for('update_painting_order', category_slug=category.slug) }}{% else %}{{ url_for('update_painting_order') }}{% endif %}";
var updatePaintingDetailsURL = "{{ url_for('edit_painting') }}";
var deletePaintingURL = "{{ url_for('delete_painting') }}";
var uploadPaintingURL = "{{ url_for('upload_painting') }}";
</script>
<script src="{{ url_for('static', filename='js/admin/paintings.js') }}"></script>
{% if category %}
<script>
var categoryName = {{ category.name|tojson }};
var categoryHeader = {% if category.header %}{{ category.header|tojson }}{% else %}''{% endif %};
var categoryDescription = {% if category.description %}{{ category.description|tojson }}{% else %}''{% endif %};
var categoryThumbsize = {% if category.thumbsize_large %}true{% else %}false{% endif %};
var editCategoryURL = "{{ url_for('edit_category')}}";
</script>
<script src="{{ url_for('static', filename='js/admin/categories.js') }}"></script>
{% endif %}
{% endif %}
{% endblock %}
